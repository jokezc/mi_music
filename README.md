# é£èŠ±é›ªä¹ (é£èŠ±é›ªæœˆ)

ä¸€ä¸ªæ”¯æŒ [xiaomusic](https://github.com/hanxi/xiaomusic) çš„ç¬¬ä¸‰æ–¹ Appï¼ŒåŸºäº Flutter å¼€å‘ã€‚

æ—¨åœ¨ä¸º xiaomusic ç”¨æˆ·æä¾›æ›´æµç•…ã€åŸç”Ÿçš„ç§»åŠ¨ç«¯ä½“éªŒã€‚æ„Ÿè°¢ xiaomusic è®©å°çˆ±éŸ³å“å†æ¬¡ä¼Ÿå¤§ã€‚

## ä¸‹è½½

- **Android**: [ä¸‹è½½æœ€æ–°ç‰ˆæœ¬](https://github.com/jokezc/mi_music/releases/latest)
- **iOS**: æš‚ä¸æ”¯æŒ
- **è“å¥äº‘**: [ä¸‹è½½æœ€æ–°ç‰ˆæœ¬](https://wwbts.lanzoue.com/b038zq3psf) (å¯†ç : 3rq9)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **å¤šç«¯è¿æ¥**: è½»æ¾è¿æ¥ xiaomusic æœåŠ¡ç«¯ï¼Œæ”¯æŒè´¦å·å¯†ç è®¤è¯ã€‚
- **éŸ³ä¹æ’­æ”¾**: å®Œæ•´çš„æ’­æ”¾æ§åˆ¶ï¼ˆæ’­æ”¾/æš‚åœã€åˆ‡æ­Œã€è¿›åº¦è°ƒèŠ‚ã€å¾ªç¯/éšæœºæ¨¡å¼ï¼‰ã€‚
- **æ­Œå•ç®¡ç†**: æ”¯æŒæŸ¥çœ‹æ­Œå•ã€æ”¶è—æ­Œæ›²ã€è‡ªå®šä¹‰æ­Œå•ã€‚
- **å¤šè®¾å¤‡æ§åˆ¶**: å¯é€‰æ‹©åœ¨æ‰‹æœºæœ¬æœºæ’­æ”¾ï¼Œæˆ–æ§åˆ¶æœåŠ¡ç«¯è¿æ¥çš„è®¾å¤‡æ’­æ”¾ã€‚
- **ä¸‹è½½ç®¡ç†**: æ”¯æŒæŸ¥çœ‹æœåŠ¡ç«¯ä¸‹è½½çŠ¶æ€ã€‚
- **å·¥å…·ç®±**: æ”¯æŒç®¡ç†æœåŠ¡ç«¯çš„å®šæ—¶ä»»åŠ¡ã€‚
- **ä¸ªæ€§åŒ–**: æ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜æ¨¡å¼åˆ‡æ¢ã€‚
- **è®¾ç½®ç®¡ç†**: ä¸°å¯Œçš„æœåŠ¡ç«¯é…ç½®é€‰é¡¹ï¼ˆç›®å½•è®¾ç½®ã€TTS è®¾ç½®ã€è´¦å·è®¾ç½®ç­‰ï¼‰ã€‚

## ğŸ“‹ å¾…å¼€å‘åŠŸèƒ½

- **è‡ªå®šä¹‰æ­Œå•ç®¡ç†**: æ”¯æŒåˆ›å»ºæ­Œå•ã€åˆ é™¤æ­Œå•ã€æ·»åŠ æ­Œæ›²ã€åˆ é™¤æ­Œæ›²ã€‚

## ğŸ›  æŠ€æœ¯æ ˆ

æœ¬é¡¹ç›®ä½¿ç”¨ Flutter è¿›è¡Œå¼€å‘ï¼Œä¸»è¦ä½¿ç”¨äº†ä»¥ä¸‹å¼€æºåº“å’ŒæŠ€æœ¯ï¼š

- **è¯­è¨€**: Dart 3.10.4
- **æ ¸å¿ƒæ¡†æ¶**: Flutter 3.38.5
- **çŠ¶æ€ç®¡ç†**: [Riverpod](https://riverpod.dev/) (é…åˆ riverpod_annotation ä»£ç ç”Ÿæˆ)
- **ç½‘ç»œè¯·æ±‚**: [Dio](https://pub.dev/packages/dio) + [Retrofit](https://pub.dev/packages/retrofit)
- **éŸ³é¢‘æ’­æ”¾**: [just_audio](https://pub.dev/packages/just_audio) + [audio_service](https://pub.dev/packages/audio_service) (æ”¯æŒåå°æ’­æ”¾å’Œæ§åˆ¶ä¸­å¿ƒ)
- **è·¯ç”±ç®¡ç†**: [GoRouter](https://pub.dev/packages/go_router)
- **æœ¬åœ°å­˜å‚¨**: [Shared Preferences](https://pub.dev/packages/shared_preferences) & [Hive](https://pub.dev/packages/hive)
- **JSON åºåˆ—åŒ–**: [json_serializable](https://pub.dev/packages/json_serializable)
- **å…¶ä»–å·¥å…·**:
  - `logger`: æ—¥å¿—æ‰“å°
  - `permission_handler`: æƒé™å¤„ç†
  - `flutter_launcher_icons`: å›¾æ ‡ç”Ÿæˆ

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
lib/
â”œâ”€â”€ core/           # æ ¸å¿ƒåŸºç¡€ä»£ç  (å¸¸é‡ã€ä¸»é¢˜ã€å·¥å…·ç±»)
â”œâ”€â”€ data/           # æ•°æ®å±‚ (APIã€æ¨¡å‹ã€ç¼“å­˜ã€Provider å®ç°)
â”œâ”€â”€ presentation/   # è¡¨ç°å±‚ (é¡µé¢ã€ç»„ä»¶)
â”œâ”€â”€ router.dart     # è·¯ç”±é…ç½®
â””â”€â”€ main.dart       # å…¥å£æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

å¦‚æœä½ æƒ³è‡ªå·±ç¼–è¯‘æˆ–å‚ä¸å¼€å‘ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿ä½ å·²ç»å®‰è£…äº† Flutter SDK å¹¶é…ç½®å¥½äº†å¼€å‘ç¯å¢ƒï¼ˆAndroid/iOSï¼‰ã€‚
æ£€æŸ¥ç¯å¢ƒçŠ¶æ€ï¼š

```bash
flutter doctor
```

### 2. è·å–ä»£ç ä¸ä¾èµ–

```bash
# è·å–ä¾èµ–
flutter pub get
```

### 3. ä»£ç ç”Ÿæˆ (é‡è¦)

æœ¬é¡¹ç›®ä½¿ç”¨äº†å¤§é‡çš„ä»£ç ç”Ÿæˆå·¥å…·ï¼ˆRiverpod, Retrofit, JSON ç­‰ï¼‰ï¼Œåœ¨è¿è¡Œå‰**å¿…é¡»**æ‰§è¡Œç”Ÿæˆå‘½ä»¤ï¼š

```bash
# ä¸€æ¬¡æ€§ç”Ÿæˆ
dart run build_runner build --delete-conflicting-outputs

# æˆ–è€…ä½¿ç”¨ watch æ¨¡å¼ï¼ˆå¼€å‘æ—¶æ¨èï¼Œè‡ªåŠ¨ç›‘å¬æ–‡ä»¶å˜æ›´ï¼‰
dart run build_runner watch --delete-conflicting-outputs
```

### 4. è¿è¡Œé¡¹ç›®

è¿æ¥è®¾å¤‡æˆ–å¯åŠ¨æ¨¡æ‹Ÿå™¨ï¼š

```bash
flutter run
```

### 5. æ‰“åŒ…å‘å¸ƒ

**æ„å»º APK (Android):**

```bash
# æ„å»ºå‘å¸ƒç‰ˆ APK
flutter build apk --release

# å¦‚æœéœ€è¦é’ˆå¯¹ä¸åŒ CPU æ¶æ„åˆ†åŒ…
flutter build apk --release --split-per-abi
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## â¤ï¸ èµèµä¸æ”¯æŒ

å¦‚æœè§‰å¾—è¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæˆ–è€…ä½ å–œæ¬¢æˆ‘çš„å·¥ä½œï¼Œæ¬¢è¿è¯·æˆ‘å–æ¯å’–å•¡ â˜•ï¸ã€‚
ä½ çš„æ”¯æŒæ˜¯æˆ‘æŒç»­ç»´æŠ¤å’Œæ›´æ–°çš„åŠ¨åŠ›ï¼

|                å¾®ä¿¡æ”¯ä»˜                 |                  æ”¯ä»˜å®                  |
| :-------------------------------------: | :--------------------------------------: |
| <img src="assets/wx.jpg" width="200" /> | <img src="assets/zfb.jpg" width="200" /> |

æ„Ÿè°¢æ¯ä¸€ä½æ”¯æŒçš„æœ‹å‹ï¼
